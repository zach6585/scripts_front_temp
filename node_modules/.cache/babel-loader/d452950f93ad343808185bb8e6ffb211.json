{"ast":null,"code":"import { TEXTS_LOADING, TEXTS_SUCCESS } from '../actions/text';\nconst initialState = {\n  texts_loading: false,\n  error: \"\",\n  curatedTextsFromCurrentScript: null,\n  currentScript: \"\"\n};\nexport function textReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  /*\r\n  This reducer will do two things: \r\n  1) Will update the text values saved to the store so that we don't have to make multiple axios calls and \r\n  2) Will get the initial texts needed in store so that we only have to look through texts with the same script so the time checking isn't as long\r\n  Initial state will be all of the texts that are gotten through axios.\r\n  */\n  switch (action.type) {\n    //Number 2 from above are accomplished through LOADING and SUCCESS\n    case TEXTS_LOADING:\n      return { ...state,\n        texts_loading: true,\n        err: '',\n        curatedTextsFromCurrentScript: null\n      };\n\n    case TEXTS_SUCCESS:\n      return { ...state,\n        texts_loading: false,\n        err: '',\n        curatedTextsFromCurrentScript: action.payload.texts,\n        currentScript: action.payload.script_number\n      };\n\n    case 'TEXT_UPDATED':\n      //Number 1 from above\n      return { ...state,\n        curatedTextsFromCurrentScript: state.curatedTextsFromCurrentScript.map(element => element.id_tag === action.payload.id_tag ? { ...element,\n          value: action.payload.value\n        } : element)\n      };\n    //Here we will have to have given the action a new text value which would be easy to get\n\n    case 'TEXT_CREATED':\n      //Also number 1 from above but for posting instead of patching\n      console.log(action.payload);\n      return { ...state,\n        curatedTextsFromCurrentScript: [...state.curatedTextsFromCurrentScript, action.payload]\n      };\n\n    case 'CHANGE_SCRIPT':\n      return { ...state,\n        curatedTextsFromCurrentScript: null,\n        currentScript: \"\"\n      };\n\n    default:\n      // If the reducer doesn't care about this action type,\n      // return the existing state unchanged\n      return state;\n  }\n}","map":{"version":3,"sources":["/mnt/c/Users/moust/Documents/Scripts/frontend/src/reducers/textreducer.js"],"names":["TEXTS_LOADING","TEXTS_SUCCESS","initialState","texts_loading","error","curatedTextsFromCurrentScript","currentScript","textReducer","state","action","type","err","payload","texts","script_number","map","element","id_tag","value","console","log"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,aAAxB,QAA6C,iBAA7C;AACA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,aAAa,EAAE,KADI;AAEnBC,EAAAA,KAAK,EAAE,EAFY;AAGnBC,EAAAA,6BAA6B,EAAE,IAHZ;AAInBC,EAAAA,aAAa,EAAE;AAJI,CAArB;AAOA,OAAO,SAASC,WAAT,GAAmD;AAAA,MAA9BC,KAA8B,uEAAtBN,YAAsB;AAAA,MAARO,MAAQ;;AACtD;AACJ;AACA;AACA;AACA;AACA;AACI,UAAQA,MAAM,CAACC,IAAf;AACE;AACA,SAAKV,aAAL;AACE,aAAO,EACL,GAAGQ,KADE;AAELL,QAAAA,aAAa,EAAE,IAFV;AAGLQ,QAAAA,GAAG,EAAE,EAHA;AAILN,QAAAA,6BAA6B,EAAE;AAJ1B,OAAP;;AAOF,SAAKJ,aAAL;AACE,aAAO,EACL,GAAGO,KADE;AAELL,QAAAA,aAAa,EAAE,KAFV;AAGLQ,QAAAA,GAAG,EAAE,EAHA;AAILN,QAAAA,6BAA6B,EAAEI,MAAM,CAACG,OAAP,CAAeC,KAJzC;AAKLP,QAAAA,aAAa,EAAEG,MAAM,CAACG,OAAP,CAAeE;AALzB,OAAP;;AAQF,SAAK,cAAL;AAAqB;AACnB,aAAO,EACL,GAAGN,KADE;AAELH,QAAAA,6BAA6B,EAAEG,KAAK,CAACH,6BAAN,CAAoCU,GAApC,CAAwCC,OAAO,IAC5EA,OAAO,CAACC,MAAR,KAAmBR,MAAM,CAACG,OAAP,CAAeK,MAAlC,GAA2C,EAAC,GAAGD,OAAJ;AAAaE,UAAAA,KAAK,EAAET,MAAM,CAACG,OAAP,CAAeM;AAAnC,SAA3C,GAAuFF,OAD1D;AAF1B,OAAP;AAIG;;AAEH,SAAK,cAAL;AAAqB;AACrBG,MAAAA,OAAO,CAACC,GAAR,CAAYX,MAAM,CAACG,OAAnB;AACA,aAAO,EACL,GAAGJ,KADE;AAELH,QAAAA,6BAA6B,EAAE,CAAC,GAAGG,KAAK,CAACH,6BAAV,EAAyCI,MAAM,CAACG,OAAhD;AAF1B,OAAP;;AAKA,SAAK,eAAL;AACA,aAAM,EACJ,GAAGJ,KADC;AAEJH,QAAAA,6BAA6B,EAAE,IAF3B;AAGJC,QAAAA,aAAa,EAAE;AAHX,OAAN;;AAMF;AACE;AACA;AACA,aAAOE,KAAP;AA3CJ;AA6CD","sourcesContent":["import { TEXTS_LOADING, TEXTS_SUCCESS } from '../actions/text';\r\nconst initialState = {\r\n  texts_loading: false,\r\n  error: \"\",\r\n  curatedTextsFromCurrentScript: null,\r\n  currentScript: \"\"\r\n}\r\n\r\nexport function textReducer(state = initialState, action) {\r\n    /*\r\n    This reducer will do two things: \r\n    1) Will update the text values saved to the store so that we don't have to make multiple axios calls and \r\n    2) Will get the initial texts needed in store so that we only have to look through texts with the same script so the time checking isn't as long\r\n    Initial state will be all of the texts that are gotten through axios.\r\n    */\r\n    switch (action.type) {\r\n      //Number 2 from above are accomplished through LOADING and SUCCESS\r\n      case TEXTS_LOADING:\r\n        return {\r\n          ...state,\r\n          texts_loading: true,\r\n          err: '',\r\n          curatedTextsFromCurrentScript: null\r\n\r\n        }\r\n      case TEXTS_SUCCESS:\r\n        return {\r\n          ...state,\r\n          texts_loading: false,\r\n          err: '',\r\n          curatedTextsFromCurrentScript: action.payload.texts,\r\n          currentScript: action.payload.script_number\r\n        }\r\n\r\n      case 'TEXT_UPDATED': //Number 1 from above\r\n        return {\r\n          ...state,\r\n          curatedTextsFromCurrentScript: state.curatedTextsFromCurrentScript.map(element => \r\n            element.id_tag === action.payload.id_tag ? {...element, value: action.payload.value} : element)\r\n         } //Here we will have to have given the action a new text value which would be easy to get\r\n      \r\n        case 'TEXT_CREATED': //Also number 1 from above but for posting instead of patching\r\n        console.log(action.payload)\r\n        return {\r\n          ...state, \r\n          curatedTextsFromCurrentScript: [...state.curatedTextsFromCurrentScript, action.payload]\r\n        }\r\n      \r\n        case 'CHANGE_SCRIPT':\r\n        return{\r\n          ...state,\r\n          curatedTextsFromCurrentScript: null,\r\n          currentScript: \"\"\r\n        }\r\n      \r\n      default:\r\n        // If the reducer doesn't care about this action type,\r\n        // return the existing state unchanged\r\n        return state\r\n    }\r\n  }\r\n\r\n"]},"metadata":{},"sourceType":"module"}